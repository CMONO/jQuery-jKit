
// jQuery Plugin: jKit
// A very easy to use, cross platform jQuery UI library that's still small in size, has the features you need and doesn't get in your way.
// Version 1.0.51 - 24. 12. 2012
// http://jquery-jkit.com/
//
// by Fredi Bach
// http://fredibach.ch/jquery-plugins/

(function($,undefined){$.jKit=function(element,options,moreoptions){var defaults={prefix:"jkit",dataAttribute:"data-jkit",activeClass:"active",errorClass:"error",successClass:"success",ignoreFocus:!1,ignoreViewport:!1,keyNavigation:!0,touchNavigation:!0,plugins:{},replacements:{},delimiter:",",macros:{"hide-if-empty":"binding:selector=this;source=text;mode=css.display","smooth-blink":"loop:speed1=2000;duration1=250;speed2=250;duration2=2000"},commands:{template:{action:"set",name:"template",dynamic:"no",addhtml:"+"},lightbox:{speed:500,opacity:.7,clearance:200,closer:"x",next:">",prev:"<",modal:"no",width:"",height:"",titleHeight:20,group:""},scroll:{speed:500,dynamic:"yes",easing:"linear"},hide:{delay:0,speed:500,animation:"fade",easing:"linear"},remove:{delay:0},show:{delay:0,speed:500,animation:"fade",easing:"linear"},showandhide:{delay:0,speed:500,duration:1e4,animation:"fade",easing:"linear"},loop:{speed1:500,speed2:500,duration1:2e3,duration2:2e3,easing1:"linear",easing2:"linear",animation:"fade"},random:{count:1,remove:"yes"},partially:{height:200,text:"more ...",speed:250,easing:"linear"},slideshow:{shuffle:"no",interval:3e3,speed:250,animation:"fade",easing:"linear"},animation:{fps:25,loop:"no",from:"",to:"",speed:"500",easing:"linear",delay:0,on:""},gallery:{active:1,event:"click",showcaptions:"yes"},tabs:{active:1,animation:"none",speed:250,easing:"linear"},accordion:{active:1,animation:"slide",speed:250,easing:"linear"},carousel:{autoplay:"yes",limit:5,animation:"grow",speed:250,easing:"linear",interval:5e3,prevhtml:"&lt;",nexthtml:"&gt;"},parallax:{strength:5,axis:"x",scope:"global"},form:{validateonly:"no"},plugin:{script:""},tooltip:{text:"",color:"#fff",background:"#000",classname:""},background:{distort:"no"},lorem:{paragraphs:0,length:"",random:"no"},binding:{selector:"",source:"val",variable:"",mode:"text",interval:100,math:"",condition:"","if":"","else":"",speed:0,easing:"linear",search:""},limit:{elements:"children",count:5,animation:"none",speed:250,easing:"linear",endstring:"..."},chart:{max:0,delaysteps:100,speed:500,easing:"linear"},encode:{format:"code",fix:"yes"},split:{separator:"",container:"span",before:"",after:""},live:{interval:60},key:{},ajax:{animation:"slide",speed:250,easing:"linear",when:"click"},replace:{modifier:"g",search:"",replacement:""},cycle:{what:"class",where:"li",scope:"children",sequence:"odd,even"},fontsize:{steps:2,min:6,max:72,affected:"p"},swap:{versions:"_off,_on"},ticker:{speed:100,delay:2e3},sort:{what:"text",by:"",start:0,end:0},zoom:{scale:2,speed:150},api:{format:"json",value:"",url:""}}},plugin=this;plugin.settings={};var $element=$(element),element=element;if("string"==typeof options){var singlecommand=options;moreoptions==undefined&&(moreoptions={}),options=moreoptions}var startX,startY,windowhasfocus=!0,lightboxes={},templates={};(!$.browser.msie||$.browser.msie&&$.browser.version>=9)&&$(window).focus(function(){windowhasfocus=!0}).blur(function(){windowhasfocus=!1}),plugin.init=function(a){a==undefined&&(a=$element),plugin.settings=$.extend({},defaults,options);var b=plugin.settings;singlecommand!=undefined?plugin.executeCommand(a,singlecommand,options):a.find("*[rel^=jKit], *["+b.dataAttribute+"]").each(function(){var a=this,c=$(this).attr("rel"),d=$(this).attr(b.dataAttribute);c=d!=undefined?$.trim(d).substring(1):$.trim(c).substring(5),c=c.substring(0,c.length-1),c=c.replace(/\]\s+\[/g,"]["),relsplit=c.split("]["),$.each(relsplit,function(c,d){d=d.replace(/\\=/g,"|jkit-eq|").replace(/\\:/g,"|jkit-dp|").replace(/\\;/g,"|jkit-sc|").replace(/\\\[/g,"|jkit-sbo|").replace(/\\\]/g,"|jkit-sbc|").replace(/\\\*/g,"|jkit-st|").replace(/\\ /g,"|jkit-sp|"),d=$.trim(d),b.macros[d]!=undefined&&(d=b.macros[d]);var e=plugin.parseOptions(d);if(b.macros[e.type]!=undefined){var f=plugin.parseOptions(b.macros[e.type]);e.type=f.type,e=$.extend({},f,e)}if("macro"==e.type&&relsplit[c-1]!=undefined)plugin.settings.macros[e.name]=relsplit[c-1];else{var g=[];if(e.target!=undefined){var h=e.target.split(".");switch(h=[h.shift(),h.join(".")],h[1]==undefined&&(h[1]="*"),h[0]){case"children":$(a).children(h[1]).each(function(){g.push(this)});break;case"each":$(a).find(h[1]).each(function(){g.push(this)});break;default:g.push(a)}}else g.push(a);$.each(g,function(a,c){b.replacements[e.type]!=undefined&&"function"==typeof b.replacements[e.type]?b.replacements[e.type].call(plugin,c,e.type,e):plugin.executeCommand(c,e.type,e)})}})})},plugin.addDefaults=function(a,b){if(plugin.settings.commands[a]!=undefined){var c=plugin.settings.commands[a];$.each(c,function(a,c){b[a]==undefined&&(b[a]=c),a.indexOf("speed")>-1&&(b[a]=plugin.fixSpeed(b[a]))})}return b},plugin.executeCommand=function(that,type,options){var s=plugin.settings,$that=$(that);switch($element.trigger("jkit-commandinit",{element:$that,type:type,options:options}),options=plugin.addDefaults(type,options),$.each(options,function(a,b){"string"==typeof b&&(options[a]=b=b.replace(/\|jkit\-eq\|/g,"=").replace(/\|jkit\-dp\|/g,":").replace(/\|jkit\-sc\|/g,";").replace(/\|jkit\-sbo\|/g,"[").replace(/\|jkit\-sbc\|/g,"]").replace(/\|jkit\-st\|/g,"*").replace(/\|jkit\-sp\|/g," ")),"string"==typeof b&&"*"==b.slice(-1)&&(options[a]=window[b.slice(0,-1)],"function"==typeof options[a]&&(options[a]=options[a].call(that)))}),type){case"api":""!=options.url&&"json"==options.format&&$.ajax({type:"GET",url:options.url,contentType:"application/json; charset=utf-8",dataType:"jsonp",success:function(data){""!=options.value?$that.text(eval("data."+options.value.replace(/[^a-zA-Z0-9\.\[\]\_]+/g,""))):$that.text(data)}});break;case"zoom":$that.parent().css("position","relative"),$that.on("mouseover",function(){var a=$that.position(),b=$that.height(),c=$that.width();$zoom=$("<div/>",{"class":s.prefix+"-"+type+"-overlay"}).css({position:"absolute",height:b+"px",width:c+"px",left:a.left+"px",top:a.top+"px",overflow:"hidden","background-image":"url("+$that.attr("src")+")","background-repeat":"no-repeat","background-color":"#000",opacity:0}).on("mouseout",function(){$zoom.fadeTo(options.speed,0,function(){$zoom.remove()})}).mousemove(function(a){var b=$(this).offset(),c=(a.pageX-b.left)*(options.scale-1),d=(a.pageY-b.top)*(options.scale-1);$zoom.css("background-position","-"+c+"px -"+d+"px")}).fadeTo(options.speed,1).insertAfter($that)});break;case"sort":var text=$that.text(),index=$that.parent().children().index($that);$that.on("click",function(){var a=[];$that.parent().parent().parent().find("tbody > tr").each(function(){var b=$(this).find("td:nth-child("+(index+1)+")");switch(options.what){case"html":var c=b.html();break;case"class":var c=b.attr("class");break;default:var c=b.text()}(options.start>0||options.end>0)&&(c=options.end>options.start?c.substring(options.start,options.end):c.substring(options.start)),a.push({content:$(this).html(),search:c})}),$that.hasClass(s.prefix+"-"+type+"-down")?($that.parent().find("th").removeClass(s.prefix+"-"+type+"-down").removeClass(s.prefix+"-"+type+"-up"),$that.addClass(s.prefix+"-"+type+"-up"),a.sort(function(a,b){if("num"==options.by&&(a.search=Number(a.search),b.search=Number(b.search)),"date"==options.by){var a=new Date(a.search),b=new Date(b.search);return a.getTime()-b.getTime()}return a.search>b.search?-1:a.search<b.search?1:0})):($that.parent().find("th").removeClass(s.prefix+"-"+type+"-down").removeClass(s.prefix+"-"+type+"-up"),$that.addClass(s.prefix+"-"+type+"-down"),a.sort(function(a,b){if("num"==options.by&&(a.search=Number(a.search),b.search=Number(b.search)),"date"==options.by){var a=new Date(a.search),b=new Date(b.search);return b.getTime()-a.getTime()}return a.search<b.search?-1:a.search>b.search?1:0}));var b=$that.parent().parent().parent().find("tbody");b.html("");var c="";$.each(a,function(a,b){c+="<tr>"+b.content+"</tr>"}),b.html(c)});break;case"ticker":var messages=[];$that.find("li").each(function(){messages.push({href:$(this).find("a").attr("href"),target:$(this).find("a").attr("target"),text:$(this).text()})}),messages.length>0&&($newThat=$("<div/>"),$that.replaceWith($newThat),window.setTimeout(function(){plugin.ticker($newThat,options,messages,0,0)},0));break;case"swap":var atribute="src",versions=options.versions.split(s.delimiter),original=$that.attr(atribute),replacement=$that.attr(atribute).replace(versions[0],versions[1]);$("<img/>")[0].src=replacement,$that.mouseenter(function(){$that.attr(atribute,replacement)}).mouseleave(function(){$that.attr(atribute,original)});break;case"fontsize":var cssoption="font-size";$that.on("click",function(){return $element.find(options.affected).each(function(){var a=parseInt($(this).css(cssoption))+parseInt(options.steps);a>=parseInt(options.min)&&parseInt(options.max)>=a&&$(this).css(cssoption,a)}),!1});break;case"cycle":var seq=options.sequence.split(s.delimiter),pos=0,sel=options.where;"children"==options.scope&&(sel="> "+sel),$that.find(sel).each(function(){if(seq[pos]!=undefined&&""!=seq[pos])switch(options.what){case"class":$(this).addClass(seq[pos]);break;case"html":$(this).html(seq[pos]);break;default:var a=options.what.split(".");"attr"==a[0]?$(this).attr(a[1],seq[pos]):"css"==a[0]&&$(this).css(a[1],seq[pos])}pos++,pos>seq.length-1&&(pos=0)});break;case"replace":var str=RegExp(options.search,options.modifier);$that.html($that.html().replace(str,options.replacement));break;case"ajax":if(options.href!=undefined&&""!=options.href)var href=options.href;else var href=$that.attr("href");if("load"==options.when||"viewport"==options.when)if("load"==options.when)$that.load(href);else var myInterval=setInterval(function(){($that.jKit_inViewport()||!$that.jKit_inViewport()&&s.ignoreViewport)&&(options.src!=undefined?$that.attr("src",options.src):$that.load(href),window.clearInterval(myInterval))},100);else $that.on("click",function(){return plugin.loadAndReplace(href,options),!1});break;case"key":options.code!=undefined&&(plugin.addKeypressEvents($that),$that.on(options.code,function(){$that.attr("onclick")!==undefined?$that.click():$that.attr("target")!==undefined&&"_blank"==$that.attr("target")?window.open($that.attr("href"),"_blank",!1):window.location.href=$that.attr("href")}));break;case"live":$that.attr("src")!==undefined&&window.setInterval(function(){plugin.updateSrc($that,options)},1e3*options.interval);break;case"split":var parts=$that.text().split(options.separator);$that.html(""),$.each(parts,function(a,b){$("<"+options.container+"/>").text(b).appendTo($that)}),$that.html(options.before+$that.html()+options.after);break;case"encode":switch(options.format){case"code":var src=$that.html();"yes"==options.fix&&(src=plugin.preFix(src)),$that.html(src.replace(/</g,"&lt;").replace(/>/g,"&gt;"));break;case"text":$that.html($that.text());break;case"esc":$that.html(escape($that.html()));break;case"uri":$that.html(encodeURI($that.html()))}break;case"chart":var label=$that.find("thead > tr > th.label").text(),id=$that.attr("id"),datalabels=[];$that.find("thead > tr > th").each(function(){$(this).hasClass("label")||datalabels.push($(this).text())});var max=0,plots=[];$that.find("tbody tr").each(function(){var a={label:$(this).find("th.label").text(),data:[]};$(this).find("th").each(function(){if(!$(this).hasClass("label")){var b=Number($(this).text());max=Math.max(b,max),a.data.push(b)}}),plots.push(a)}),options.max>0&&options.max>max&&(max=options.max);var $chart=$("<div/>",{id:id,"class":s.prefix+"-"+type}),delay=0;$.each(datalabels,function(a,b){var c=$("<div/>",{"class":s.prefix+"-"+type+"-step"}).html("<label>"+b+"</label>").appendTo($chart);$.each(plots,function(b){if(plots[b].data[a]>0){var e=$("<div/>",{"class":s.prefix+"-"+type+"-plot "+s.prefix+"-"+type+"-plot"+b}).appendTo(c);$("<div/>").text(plots[b].label).delay(delay).animate({width:100*(plots[b].data[a]/max)+"%"},options.speed,options.easing).appendTo(e),$("<span/>",{"class":s.prefix+"-"+type+"-info"}).text(label+" "+plots[b].label+": "+plots[b].data[a]+" "+options.units).appendTo(e)}}),delay+=options.delaysteps}),$that.replaceWith($chart);break;case"lightbox":""!=options.group&&(lightboxes[options.group]==undefined&&(lightboxes[options.group]=[]),lightboxes[options.group].push(that)),$that.click(function(){if("no"==options.modal){var a=$("<div/>",{id:s.prefix+"-"+type+"-bg","class":s.prefix+"-"+type+"-closer "+s.prefix+"-"+type+"-el"}).fadeTo(options.speed,options.opacity).appendTo("body");$.fn.jKit_iOS()&&a.css("top",$(window).scrollTop()+"px")}var b=$("<div/>",{id:s.prefix+"-"+type+"-content","class":s.prefix+"-"+type+"-el"}).fadeTo(0,.01).appendTo("body");$.fn.jKit_iOS()&&b.css("top",$(window).scrollTop()+"px"),""!=options.width&&(b.css({width:options.width}),b.css({left:($(window).width()-b.outerWidth())/2+"px"})),""!=options.height&&(b.css({height:options.height}),b.css({top:($(window).height()-b.outerHeight())/2+"px"}));var c=$("<div/>",{id:s.prefix+"-"+type+"-nav","class":s.prefix+"-"+type+"-el"}).hide().fadeTo(options.speed,1).appendTo("body");$("<span/>",{"class":s.prefix+"-"+type+"-closer"}).html(options.closer).prependTo(c);var e=b.offset();if(c.css({top:e.top-options.titleHeight-$(window).scrollTop()+"px",left:e.left+b.outerWidth()-c.width()+"px"}),""!=options.group){var f=$("<span/>",{id:s.prefix+"-"+type+"-nav-next"}).prependTo(c),g=$("<span/>",{id:s.prefix+"-"+type+"-nav-prev"}).prependTo(c);plugin.addKeypressEvents(f),plugin.addKeypressEvents(g),lightboxes[options.group][lightboxes[options.group].length-1]!=that&&f.html(options.next).on("click right",function(){$.each(lightboxes[options.group],function(a,b){b==that&&($("."+plugin.settings.prefix+"-"+type+"-el").fadeTo(options.speed,0,function(){$(this).remove()}),lightboxes[options.group][a+1].click())})}),lightboxes[options.group][0]!=that&&g.html(options.prev).on("click left",function(){$.each(lightboxes[options.group],function(a,b){b==that&&($("."+plugin.settings.prefix+"-"+type+"-el").fadeTo(options.speed,0,function(){$(this).remove()}),lightboxes[options.group][a-1].click())})})}$title=$("<div/>",{id:s.prefix+"-"+type+"-title","class":s.prefix+"-"+type+"-el"}).css({top:e.top-options.titleHeight-$(window).scrollTop()+"px",left:e.left+"px",width:b.width()+"px"}).hide().text($that.attr("title")).fadeTo(options.speed,1).appendTo("body");var h=new Image;return $(h).load(function(){var a=($(this).outerWidth()+options.clearance)/$(window).width(),d=($(this).outerHeight()+options.clearance)/$(window).height(),e=Math.max(a,d);if(e>1){var f=$(this).height();$(this).width($(this).width()/e),$(this).height(f/e)}var g=($(window).width()-$(this).outerWidth())/2,h=($(window).height()-$(this).outerHeight())/2;b.width($(this).width()).height($(this).height()).css({left:g+"px",top:h+"px"}).fadeTo(options.speed,1),$(this).hide().fadeTo(options.speed,1),""!=$that.attr("title")&&$title.css({top:h-options.titleHeight+"px",left:g+"px",width:$(this).width()+"px"}),c.css({top:h-options.titleHeight+"px",left:g+b.outerWidth()-c.width()+"px"})}).attr("src",$that.attr("href")).appendTo(b).error(function(){b.html('<iframe id="'+s.prefix+"-"+type+'-iframe" src="'+$that.attr("href")+'" style="border:none;width:100%;height:100%"></iframe>').fadeTo(options.speed,1)}),$("."+s.prefix+"-"+type+"-closer").click(function(){$("."+s.prefix+"-"+type+"-el").fadeTo(options.speed,0,function(){$(this).remove()})}),!1});break;case"scroll":$that.click(function(){if(""==$(this).attr("href"))var a=0;else var a=$($that.attr("href")).offset().top;return"yes"==options.dynamic&&(options.speed=Math.abs($(document).scrollTop()-a)/1e3*options.speed),$("html, body").animate({scrollTop:a+"px"},options.speed,options.easing),!1});break;case"hide":$that.jKit_effect(!1,options.animation,options.speed,options.easing,options.delay);break;case"remove":$that.delay(options.delay).hide(0,function(){$that.remove()});break;case"show":$that.hide().jKit_effect(!0,options.animation,options.speed,options.easing,options.delay);break;case"showandhide":$that.hide().jKit_effect(!0,options.animation,options.speed,options.easing,options.delay,function(){$that.jKit_effect(!1,options.animation,options.speed,options.easing,options.duration)});break;case"loop":plugin.loop($that.hide(),options);break;case"random":for(var childs=$that.children().size(),shownrs=[];shownrs.length<options.count;){var shownr=Math.floor(Math.random()*childs);-1==$.inArray(shownr,shownrs)&&shownrs.push(shownr)}var i=0;$that.children().each(function(){-1==$.inArray(i,shownrs)?"yes"==options.remove?$(this).remove():$(this).hide():$(this).show(),i++});break;case"partially":var originalHeight=$that.height();$that.css("position","relative");var $morediv=$("<div/>").addClass(s.prefix+"-morediv").appendTo(that).html(options.text).css({width:$that.outerWidth()+"px",opacity:.9});plugin.addKeypressEvents($that),$that.css({height:options.height+"px",overflow:"hidden"}).on("mouseenter down",function(){$morediv.fadeTo(options.speed,0),$that.animate({height:originalHeight+"px"},options.speed,options.easing)}).on("mouseleave up",function(){$morediv.fadeTo(options.speed,.9),$that.animate({height:options.height+"px"},options.speed,options.easing)}),$morediv.on("click",function(){$that.animate({height:originalHeight+"px"},options.speed,options.easing)});break;case"slideshow":var slides=$that.children();if("yes"==options.shuffle)for(var tmp,rand,slidecount=slides.length,i=0;slidecount>i;i++)rand=Math.floor(Math.random()*slidecount),tmp=slides[i],slides[i]=slides[rand],slides[rand]=tmp;$that.css({position:"relative"}),$that.html(slides[0]),window.setTimeout(function(){plugin.slideshow(slides,0,$that,options)},options.interval);break;case"carousel":var cnt=0;$that.children().each(function(){cnt++,cnt>options.limit&&$(this).hide()});var $prevdiv=$("<a/>",{"class":s.prefix+"-"+type+"-prev"}).html(options.prevhtml).on("click left",function(){plugin.carousel($that,options,"prev")}).insertAfter(that),$nextdiv=$("<a/>",{"class":s.prefix+"-"+type+"-next"}).html(options.nexthtml).on("click right",function(){plugin.carousel($that,options,"next")}).insertAfter(that);plugin.addKeypressEvents($prevdiv),plugin.addKeypressEvents($nextdiv),window.setTimeout(function(){plugin.carousel($that,options)},options.interval);break;case"animation":if(""!=options.to)""!=options.from&&$that.css(plugin.cssFromString(options.from)),setTimeout(function(){""!=options.on?$that.on(options.on,function(){$that.animate(plugin.cssFromString(options.to),options.speed,options.easing)}):$that.animate(plugin.cssFromString(options.to),options.speed,options.easing)},options.delay);else{options.interval=1e3/options.fps;var frames=[],pos=0,lastframe=0;$that.children().each(function(){var a=$(this).attr("rel"),b=$(this).attr(s.dataAttribute);if(b!=undefined)var c=b.indexOf("["),d=b.indexOf("]"),e=b.substring(c+1,d);else var c=a.indexOf("["),d=a.indexOf("]"),e=a.substring(c+1,d);var f=plugin.parseOptions(e);f.el=$(this),f.easing==undefined&&(f.easing="linear"),f.start=pos,pos+=parseInt(f.steps),f.end=pos,lastframe=pos,pos++,frames.push(f)}),options.lastframe=lastframe,$that.css("overflow","hidden"),$that.html(frames[0].el),window.setTimeout(function(){plugin.animation(frames,-1,$that,options)},0)}break;case"gallery":var images=$that.children();$that.html($that.children(":nth-child("+options.active+")").clone());var $thumbdiv=$("<div/>",{id:s.prefix+"-"+$that.attr("id")+"-"+type+"-thumbs"}).addClass(s.prefix+"-"+type+"-thumbs").insertAfter(that);if("yes"==options.showcaptions)var $captiondiv=$("<div/>",{id:s.prefix+"-"+$that.attr("id")+"-"+type+"-captions"}).addClass(s.prefix+"-"+type+"-captions").text($(images[options.active-1]).attr("title")).insertAfter(that);$.each(images,function(a,b){options.active-1==a&&$(b).addClass(s.activeClass),$(b).mouseover(function(){"mouseover"==options.event&&($that.find("img").attr("src",$(b).attr("src")),$thumbdiv.find("img").removeClass(s.activeClass),$(b).addClass(s.activeClass),"yes"==options.showcaptions&&$captiondiv.text($(b).attr("title")))}).click(function(){"click"==options.event&&($that.find("img").attr("src",$(b).attr("src")),$thumbdiv.find("img").removeClass(s.activeClass),$(b).addClass(s.activeClass),"yes"==options.showcaptions&&$captiondiv.text($(b).attr("title")))}).css({cursor:"pointer"}).appendTo($thumbdiv)});break;case"tabs":var tabs=[];$that.children("div").each(function(){tabs.push({title:$(this).children("h3").text(),content:$(this).children("div").detach()})}),$that.html("");var $tabnav=$("<ul/>",{}).appendTo(that),$tabcontent=$;$.each(tabs,function(a,b){var c=$("<li/>",{}).text(b.title).css("cursor","pointer").appendTo($tabnav);options.active-1==a&&c.addClass(s.activeClass),c.on("click",function(){"fade"==options.animation?$tabcontent.fadeTo(options.speed,0,options.easing,function(){$(this).remove(),$tabcontent=tabs[a].content.appendTo($that).hide().fadeTo(options.speed,1)}):"slide"==options.animation?$tabcontent.slideUp(options.speed,options.easing,function(){$(this).remove(),$tabcontent=tabs[a].content.appendTo($that).hide().slideDown(options.speed)}):"grow"==options.animation?$tabcontent.hide(options.speed,options.easing,function(){$(this).remove(),$tabcontent=tabs[a].content.appendTo($that).hide().show(options.speed)}):($tabcontent.remove(),$tabcontent=tabs[a].content.appendTo($that)),$tabnav.find("li").removeClass(s.activeClass),$tabnav.find("li:nth-child("+(a+1)+")").addClass(s.activeClass)})}),tabs[options.active-1]!=undefined&&($tabcontent=tabs[options.active-1].content.appendTo($that));break;case"accordion":var tabs=[];$that.children("div").each(function(){tabs.push({title:$(this).children("h3").detach(),content:$(this).children("div").detach()})}),$that.html("");var $tabnav=$("<ul/>",{}).appendTo(that),$tabcontent=$,current=1;0==options.active&&(current=-1),$.each(tabs,function(a,b){var c=$("<li/>",{}).append(b.title).css("cursor","pointer").appendTo($tabnav);options.active-1==a?(c.append(b.content).children("h3").addClass(s.activeClass),current=a):c.append(b.content.hide()),c.find("> h3").on("click",function(){a!=current?($tabnav.find("> li > h3").removeClass(s.activeClass),$(this).addClass(s.activeClass),"slide"==options.animation?($tabnav.find("> li:nth-child("+(current+1)+") > div").slideUp(options.speed,options.easing),$tabnav.find("> li:nth-child("+(a+1)+") > div").slideDown(options.speed,options.easing)):($tabnav.find("> li:nth-child("+(current+1)+") > div").hide(),$tabnav.find("> li:nth-child("+(a+1)+") > div").show()),current=a):($(this).removeClass(s.activeClass).next().slideUp(options.speed,options.easing),current=-1)})});break;case"parallax":var strength=options.strength/10;if("global"==options.scope)var $capture=$(document);else var $capture=$that;$capture.mousemove(function(a){if((windowhasfocus||!windowhasfocus&&s.ignoreFocus)&&($that.jKit_inViewport()||!$that.jKit_inViewport()&&s.ignoreViewport)){var b=1;$that.children().each(function(){var c=$that.offset();if("x"==options.axis||"both"==options.axis){var d=-1*(a.pageX-c.left-$that.width()/2)*strength*b-$(this).width()/2+$that.width()/2;$(this).css({left:d+"px"})}if("y"==options.axis||"both"==options.axis){var e=-1*(a.pageY-c.top-$that.height()/2)*strength*b-$(this).height()/2+$that.height()/2;$(this).css({top:e+"px"})}b++})}});break;case"menu":$that.find("li").hover(function(){$(this).addClass("hover"),$("ul:first",this).css("visibility","visible")},function(){$(this).removeClass("hover"),$("ul:first",this).css("visibility","hidden")}).on("click",function(){$(this).addClass("hover"),$("ul:first",this).css("visibility","visible")});break;case"form":$that.append('<input type="hidden" name="'+s.prefix+'-requireds" id="'+s.prefix+'-requireds">'),options.error!=undefined&&(options.formerror=options.error);var requireds=[];$that.on("submit",function(){var a=[];if($(this).find("span."+s.errorClass).remove(),$(this).find("*[rel^=jKit], *["+s.dataAttribute+"]").each(function(){var b=$(this).attr("rel"),c=$(this).attr(s.dataAttribute);if(c!=undefined)var d=c.indexOf("["),e=c.indexOf("]"),f=c.substring(d+1,e);else var d=b.indexOf("["),e=b.indexOf("]"),f=b.substring(d+1,e);var g=plugin.parseOptions(f);g.type;var i=!1,j=!1;if(g.required==undefined&&(g.required=!1),"true"==g.required&&(""==$(this).val()&&(i=!0,a.push({element:$(this),error:"required"})),j=!0,-1==$.inArray($(this).attr("name"),requireds)&&requireds.push($(this).attr("name"))),j||""!=$(this).val()||"group"==g.type){if("email"!=g.type||$.fn.jKit_emailCheck($(this).val())||(i=!0,a.push({element:$(this),error:"email"})),"url"!=g.type||$.fn.jKit_urlCheck($(this).val())||(i=!0,a.push({element:$(this),error:"url"})),"date"!=g.type||$.fn.jKit_dateCheck($(this).val())||(i=!0,a.push({element:$(this),error:"date"})),"date"==g.type&&new Date($(this).val()).getTime()<=new Date($(g.older).val()).getTime()&&(i=!0,a.push({element:$(this),error:"older"})),"date"==g.type&&new Date($(this).val()).getTime()>=new Date($(g.younger).val()).getTime()&&(i=!0,a.push({element:$(this),error:"younger"})),"time"!=g.type||$.fn.jKit_timeCheck($(this).val())||(i=!0,a.push({element:$(this),error:"time"})),"phone"!=g.type||$.fn.jKit_phoneCheck($(this).val())||(i=!0,a.push({element:$(this),error:"phone"})),"float"==g.type&&isNaN($(this).val())&&(i=!0,a.push({element:$(this),error:"float"})),"int"==g.type&&parseInt($(this).val())!=$(this).val()&&(i=!0,a.push({element:$(this),error:"int"})),("int"==g.type||"float"==g.type)&&g.min!=undefined&&$(this).val()<g.min&&"group"!=g.type&&(i=!0,a.push({element:$(this),error:"min"})),("int"==g.type||"float"==g.type)&&g.max!=undefined&&$(this).val()>g.max&&"group"!=g.type&&(i=!0,a.push({element:$(this),error:"max"})),("int"==g.type||"float"==g.type)&&g.bigger!=undefined&&$(this).val()>$(g.bigger).val()&&(i=!0,a.push({element:$(this),error:"bigger"})),("int"==g.type||"float"==g.type)&&g.smaller!=undefined&&$(this).val()<$(g.smaller).val()&&(i=!0,a.push({element:$(this),error:"smaller"})),"int"!=g.type&&"float"!=g.type&&g.min!=undefined&&$(this).val().length<g.min&&"group"!=g.type&&(i=!0,a.push({element:$(this),error:"minlength"})),"int"!=g.type&&"float"!=g.type&&g.max!=undefined&&$(this).val().length>g.max&&"group"!=g.type&&(i=!0,a.push({element:$(this),error:"maxlength"})),g.length!=undefined&&$(this).val().length!=g.length&&(i=!0,a.push({element:$(this),error:"length"})),"int"!=g.type&&"float"!=g.type&&g.longer!=undefined&&$(this).val().length>$(g.longer).val().length&&(i=!0,a.push({element:$(this),error:"longer"})),"int"!=g.type&&"float"!=g.type&&g.shorter!=undefined&&$(this).val().length<$(g.shorter).val().length&&(i=!0,a.push({element:$(this),error:"shorter"})),g.strength!=undefined&&$.fn.jKit_passwordStrength($(this).val())<g.strength&&(i=!0,a.push({element:$(this),error:"strength"})),g.same!=undefined&&$(this).val()!=$(g.same).val()&&(i=!0,a.push({element:$(this),error:"same"})),g.different!=undefined&&$(this).val()!=$(g.different).val()&&(i=!0,a.push({element:$(this),error:"different"})),"extension"==g.type){var k=g.options.split(s.delimiter),l=$(this).val().split("."),m=l[l.length-1];-1==$.inArray(m,k)&&(i=!0,a.push({element:$(this),error:"ext"}))}if("group"==g.type)if(g.min!=undefined||g.max!=undefined){var n=0;$(this).children("input[type=checkbox][checked]").each(function(){n++}),(g.min!=undefined&&g.min>n||g.max!=undefined&&n>g.max)&&(i=!0,a.push({element:$(this),error:"group"}))}else $(this).find("input[name='"+g.name+"']:checked").val()==undefined&&(i=!0,a.push({element:$(this),error:"group"}));if("custom"==g.type&&g.checkfunction!=undefined){var o=window[g.checkfunction];"function"==typeof o&&(o($(this).val())||(i=!0,a.push({element:$(this),error:"custom"})))}}i?(g.error!=undefined&&$(this).after('<span class="'+s.errorClass+'">'+g.error+"</span>"),$(this).addClass(s.errorClass)):$(this).removeClass(s.errorClass)}),0==a.length){if("yes"==options.validateonly)return!0;var b=$(this).attr("action");return $that.removeClass(s.errorClass),options.success==undefined&&(options.success="Your form has been sent."),$that.find("input#"+s.prefix+"-requireds").val(requireds.join(s.delimiter)),$.post(b,$that.serialize(),function(a){if($that.find("."+s.errorClass).hide(),a.sent!=undefined&&1==a.sent)"#"==options.success.charAt(0)?$that.html($(options.success).show()):$that.html('<p class="'+s.successClass+'">'+options.success+"</p>");else for(x in a.error){var d=a.error[x];$that.find("*[name="+d+"]").addClass(s.errorClass).after('<span class="'+s.errorClass+'">'+options.error+"</span>")}}).error(function(a,b,c){alert(c),$that.append('<span class="'+s.errorClass+'">There was an error submitting the form: Error Code '+a.status+"</span>")}),!1}return $that.addClass("error"),options.formerror!=undefined&&$that.append('<span class="'+s.errorClass+'">'+options.formerror+"</span>"),!1});break;case"plugin":s.plugins[options.script]!=undefined&&(options.functioncall=s.plugins[options.script].fn,s.plugins[options.script].option!=undefined&&(options.option=s.plugins[options.script].option),options.script=s.plugins[options.script].path),$.ajaxSetup({cache:!0}),options.script!=undefined&&$.getScript(options.script,function(){options.option!=undefined?$that[options.functioncall](options[options.option]):(delete options.type,delete options.script,$that[options.functioncall](options))}),$.ajaxSetup({cache:!1});break;case"tooltip":0==$("div#"+s.prefix+"-tooltip").length&&$("<div/>",{id:s.prefix+"-"+type}).hide().appendTo("body"),$tip=$("div#"+s.prefix+"-"+type),$that.on("mouseenter",function(a){""!=options.classname?$tip.html(options.text).removeClass().css({background:"",color:""}).addClass(options.classname):$tip.html(options.text).removeClass().css({background:options.background,color:options.color}),$tip.hide().css("top",a.pageY+15-$(window).scrollTop()).css("left",a.pageX).fadeIn(50)}).on("mouseleave click",function(){$tip.fadeOut(200)});break;case"background":var $bg=$("<div/>",{id:s.prefix+"-"+type}).css({position:"fixed",right:"0px",top:"0px",overflow:"hidden","z-index":"-1",width:$(window).width(),height:$(window).height()}).appendTo("body");$bg.append($that);var ow=$that.attr("width"),oh=$that.attr("height");plugin.scaleFit($bg,$that,ow,oh,options.distort),$(window).resize(function(){plugin.scaleFit($bg,$that,ow,oh,options.distort)});break;case"lorem":var lorem=["Lorem ipsum dolor sit amet, consectetur adipisici elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquid ex ea commodi consequat. Quis aute iure reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint obcaecat cupiditat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.","Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.","Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi.","Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.","Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis.","At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, At accusam aliquyam diam diam dolore dolores duo eirmod eos erat, et nonumy sed tempor et et invidunt justo labore Stet clita ea et gubergren, kasd magna no rebum. sanctus sea sed takimata ut vero voluptua. est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat.","Consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet."],text="";
if("yes"==options.random&&(lorem=$.fn.jKit_arrayShuffle(lorem)),options.paragraphs>0)for(var i=1;options.paragraphs>=i;i++)text+="<p>"+lorem[i%7-1]+"</p>";else text=lorem[0],""!=options.length&&(text=text.substring(0,options.length-1));$that.html(text);break;case"binding":window.setTimeout(function(){plugin.binding($that,options)},0);break;case"limit":if("children"==options.elements)$that.children(":gt("+(options.count-1)+")").each(function(){$(this).jKit_effect(!1,options.animation,options.speed,options.easing)});else{var newtext=$that.text().substr(0,options.count);newtext!=$that.text()&&(newtext=newtext.substr(0,newtext.length-options.endstring.length)+options.endstring,$that.text(newtext))}break;case"template":if("apply"==options.action){if($el=$that,options.children!=undefined&&""!=options.children){$el=$that.children(options.children);var cnt=0;$el.each(function(){cnt++,plugin.applyTemplate($(this),options,cnt,$el.length)})}else plugin.applyTemplate($that,options);if("yes"==options.dynamic)var $addDiv=$("<a/>",{"class":s.prefix+"-"+type+"-add"}).html(options.addhtml).on("click",function(){$el=$($that.get(0));var a=$el.children(options.children).length+1;$el.find(".if-entry-last").hide(),plugin.applyTemplate($("<"+options.children+"/>").appendTo($el),options,a,a)}).insertAfter($that)}else{if(templates[options.name]==undefined&&(templates[options.name]=[]),options.vars==undefined)var vars=[];else var vars=options.vars.split(s.delimiter);templates[options.name]={template:$that.detach(),vars:vars}}}return $that},plugin.cssFromString=function(a){var b=a.split(","),c={};return $.each(b,function(a,b){var d=b.split("(");if(2==d.length){var e=d[0],f=d[1].slice(0,-1);c[e]=f}}),c},plugin.preFix=function(a){var b=a.split("\n"),c=9999;return $.each(b,function(a,b){if(""!=$.trim(b)){for(var d=-1;"	"==b.charAt(d+1);)d++;d++,c>d&&(c=d)}}),$.each(b,function(a,d){b[a]=d.substr(c)}),b.join("\n")},plugin.ticker=function(a,b,c,d,e){if((windowhasfocus||!windowhasfocus&&plugin.settings.ignoreFocus)&&(a.jKit_inViewport()||!a.jKit_inViewport()&&plugin.settings.ignoreViewport)){var f=b.speed;e++,e>c[d].text.length?(f=b.delay,d++,d>=c.length&&(d=0),e=0):c[d].href!=undefined?a.html('<a href="'+c[d].href+'" target="'+c[d].target+'">'+c[d].text.substr(0,e)+"</a>"):a.html(c[d].text.substr(0,e))}window.setTimeout(function(){plugin.ticker(a,b,c,d,e)},f)},plugin.loadAndReplace=function(a,b){var c=plugin.settings.prefix+"_ajax_temp_"+$.fn.jKit_getUnixtime();$(b.element).jKit_effect(!1,b.animation,b.speed,b.easing,0,function(){$(b.element).html(""),jQuery("<div/>",{id:c}).appendTo("body"),$("#"+c).load(a+" "+b.element,function(){$(b.element).html($("#"+c+" "+b.element).html()),$(b.element).jKit_effect(!0,b.animation,b.speed,b.easing),$("#"+c).remove()})})},plugin.updateSrc=function(a){if((windowhasfocus||!windowhasfocus&&plugin.settings.ignoreFocus)&&(a.jKit_inViewport()||!a.jKit_inViewport()&&plugin.settings.ignoreViewport)){var c=a.attr("src").split("?");a.attr("src",c[0]+"?t="+$.fn.jKit_getUnixtime())}},plugin.applyTemplate=function(a,b,c,d){var e={};$.each(templates[b.name].vars,function(b,c){var d=a.find("."+c);plugin.init(d),e[c]=""!=d.val()?d.val():d.html()}),a.html(templates[b.name].template.clone().show()),a.find('[class^="if-entry-"]').hide(),plugin.renameDynamicAttributes(a,c),$.each(templates[b.name].vars,function(b,f){var g=a.find("."+f);g.is("input")||g.is("select")||g.is("textarea")?g.val(e[f]):g.html(e[f]),e[f]==undefined&&a.find(".if-"+f).length>0&&a.find(".if-"+f).remove(),1==c&&a.find(".if-entry-first").show(),c==d&&a.find(".if-entry-last").show(),a.find(".if-entry-nr-"+c).show()})},plugin.renameDynamicAttributes=function(a,b){a.find('[class^="dynamic-"]').each(function(){var a=$(this),c=$(this).attr("class").split(/\s+/);$.each(c,function(c,d){var e=d.substr(8);if(""!=e&&a.attr(e)){var f=a.attr(e),g=f.lastIndexOf("_");g>-1&&(f=f.substr(0,g)),a.attr(e,f+"_"+b)}})})},plugin.binding=function(el,options){if(windowhasfocus||!windowhasfocus&&plugin.settings.ignoreFocus){if(options.value==undefined){if(""!=options.selector){var selsplit=options.selector.split("|"),sourcesplit=options.source.split("."),values=[];if($.each(selsplit,function(a,b){"this"==b?b=el:"parent"==b&&(b=$(el).parent().get(0)),$(b).each(function(){switch(sourcesplit[0]){case"event":$(this).on(sourcesplit[1],function(){options.value=1,plugin.binding(el,options)});break;case"html":var a=$(this).html();break;case"text":var a=$(this).text();break;case"attr":var a=$(this).attr(sourcesplit[1]);break;case"css":if("height"==sourcesplit[1])var a=$(this).height();else if("innerHeight"==sourcesplit[1])var a=$(this).innerHeight();else if("outerHeight"==sourcesplit[1])var a=$(this).outerHeight();else if("width"==sourcesplit[1])var a=$(this).width();else if("innerWidth"==sourcesplit[1])var a=$(this).innerWidth();else if("outerWidth"==sourcesplit[1])var a=$(this).outerWidth();else if("scrollTop"==sourcesplit[1])var a=$(this).scrollTop();else if("scrollLeft"==sourcesplit[1])var a=$(this).scrollLeft();else var a=$(this).css(sourcesplit[1]);break;case"scroll":switch(sourcesplit[1]){case"top":var a=$(window).scrollTop();break;case"left":var a=$(window).scrollLeft()}break;case"clearance":var b=el.offset().top-$(window).scrollTop(),c=$(window).scrollTop()+$(window).height()-(el.offset().top+el.height()),d=$(window).width()+$(window).scrollLeft()-(el.offset().left+el.width()),e=el.offset().left-$(window).scrollLeft();switch(sourcesplit[1]){case"bottom":var a=c;break;case"top":var a=b;break;case"right":var a=d;break;case"left":var a=e;break;default:var a=Math.min.apply(Math,[c,b,d,e])}break;case"has":switch(sourcesplit[1]){case"class":var a=$(this).hasClass(options.search);break;case"text":var a=$.fn.jKit_stringOccurrences($(this).text().toLowerCase(),options.search.toLowerCase());break;case"attribute":var a=$(this).attr(options.search)!==undefined;break;case"val":var a=$.fn.jKit_stringOccurrences($(this).val().toLowerCase(),options.search.toLowerCase());break;case"element":var a=$(this).find(options.search).length;break;case"children":var a=$(this).children(options.search).length}break;case"val":default:var a=$(this).val()}values.push(a)})}),sourcesplit[2]!=undefined){var value="";switch(sourcesplit[2]){case"max":value=Math.max.apply(Math,values);break;case"min":value=Math.min.apply(Math,values);break;case"sum":value=values.reduce(function(a,b){return a+b});break;case"avg":value=values.reduce(function(a,b){return a+b})/values.length}}else var value=values[0]}else if(""!=options.variable)var value=window[options.variable]}else value=options.value;if(""!=options.condition){var doit=!1;eval("if ("+options.condition.replace(/[^a-zA-Z 0-9\<\>\=\.\!]+/g,"")+") doit = true;")}else var doit=!0;if(doit||""==options["else"]?doit&&""!=options["if"]&&(doit=!0,value=options["if"]):(doit=!0,value=options["else"]),doit){""!=options.math&&eval("value = "+options.math.replace(/[^a-zA-Z 0-9\+\-\*\/\.]+/g,"")+";");var modesplit=options.mode.split(".");switch(modesplit[0]){case"text":el.text(value);break;case"html":el.html(value);break;case"val":el.val(value);break;case"attr":el.attr(modesplit[1],value);break;case"css":if("display"!=modesplit[1]||""!=$.trim(value)&&0!=$.trim(value)||(value="none"),options.speed>0){var style={};style[modesplit[1]]=value,el.animate(style,options.speed,options.easing)}else el.css(modesplit[1],value);break;default:if(modesplit[0]!=undefined){var fn=window[modesplit[0]];"function"==typeof fn&&fn(value,el)}}}}-1!=options.interval&&window.setTimeout(function(){plugin.binding(el,options)},options.interval)},plugin.fixSpeed=function(a){return"fast"!=a&&"slow"!=a&&(a=parseInt(a)),a},plugin.loop=function(a,b){(windowhasfocus||!windowhasfocus&&plugin.settings.ignoreFocus)&&(a.jKit_inViewport()||!a.jKit_inViewport&&plugin.settings.ignoreViewport)?a.jKit_effect(!0,b.animation,b.speed1,b.easing1,b.duration1,function(){a.jKit_effect(!1,b.animation,b.speed2,b.easing2,b.duration2,plugin.loop(a,b))}):window.setTimeout(function(){plugin.loop(a,b)},100)},plugin.scaleFit=function(a,b,c,d,e){var f=$(window).width(),g=$(window).height();a.css({width:f+"px",height:g+"px"});var h=0,i=0;if("no"==e){var j=c/d,k=f/g;j>k?(f=g*j,i=-1*((f-$(window).width())/2)):(g=f/j,h=-1*((g-$(window).height())/2))}b.css({position:"fixed",top:h+"px",left:i+"px",width:f+"px",height:g+"px"})},plugin.parseOptions=function(a){var b=a.split(":"),c={type:$.trim(b[0])};if(b.length>1){var d=b[1].split(";");$.each(d,function(a,b){var d=b.split("=");c[$.trim(d[0])]=$.trim(d[1])})}return c},plugin.carousel=function(a,b,c){if(c!=undefined&&(b.autoplay=!1),(windowhasfocus||!windowhasfocus&&plugin.settings.ignoreFocus)&&(a.jKit_inViewport()||!a.jKit_inViewport()&&plugin.settings.ignoreViewport)){var d=!1;a.children().each(function(){$(this).is(":animated")&&(d=!0)}),d||("next"==c||c==undefined?(a.children(":nth-child(1)").jKit_effect(!1,b.animation,b.speed,b.easing,0,function(){a.append(a.children(":nth-child(1)"))}),a.children(":nth-child("+(b.limit+1)+")").jKit_effect(!0,b.animation,b.speed,b.easing,0)):"prev"==c&&(a.prepend(a.children(":last-child")),a.children(":first-child").jKit_effect(!0,b.animation,b.speed,b.easing,0),a.children(":nth-child("+(b.limit+1)+")").jKit_effect(!1,b.animation,b.speed,b.easing,0))),"yes"==b.autoplay&&window.setTimeout(function(){plugin.carousel(a,b)},b.interval)}else window.setTimeout(function(){plugin.carousel(a,b)},b.interval)},plugin.slideshow=function(a,b,c,d){(windowhasfocus||!windowhasfocus&&plugin.settings.ignoreFocus)&&(c.jKit_inViewport()||!c.jKit_inViewport()&&plugin.settings.ignoreViewport)?(a.length-1>b?b++:b=0,c.jKit_effect(!1,d.animation,d.speed,d.easing,0,function(){c.html(a[b]),c.jKit_effect(!0,d.animation,d.speed,d.easing,0,function(){window.setTimeout(function(){plugin.slideshow(a,b,c,d)},d.interval)})})):window.setTimeout(function(){plugin.slideshow(a,b,c,d)},d.interval)},plugin.animation=function(a,b,c,d){if((windowhasfocus||!windowhasfocus&&plugin.settings.ignoreFocus)&&(c.jKit_inViewport()||!c.jKit_inViewport()&&plugin.settings.ignoreViewport)){$.each(a,function(e,f){if(f.start==b){c.html(f.el.clone());var g=(f.end-f.start)*d.interval;if("fadeout"==f.action)c.children(":first").show().fadeTo(g,0,f.easing);else if("fadein"==f.action)c.children(":first").hide().fadeTo(g,1,f.easing);else if("fadeinout"==f.action)c.children(":first").hide().fadeTo(g/2,1,f.easing).fadeTo(g/2,0,f.easing);else if("tween"==f.action){var h=a[e+1].el;c.children(":first").animate({"font-size":h.css("font-size"),"letter-spacing":h.css("letter-spacing"),color:h.css("color"),opacity:h.css("opacity"),"background-color":h.css("background-color"),"padding-top":h.css("padding-top"),"padding-bottom":h.css("padding-bottom"),"padding-left":h.css("padding-left"),"padding-right":h.css("padding-right")},g,f.easing)}}}),b++;var e=!1;b>d.lastframe&&(b=0,e=!0),(e&&"yes"==d.loop||!e)&&window.setTimeout(function(){plugin.animation(a,b,c,d)},d.interval)}else window.setTimeout(function(){plugin.animation(a,b,c,d)},d.interval)},plugin.closeLightbox=function(){$("."+plugin.settings.prefix+"-lightbox-el").fadeTo("fast",0,function(){$(this).remove()})},plugin.addKeypressEvents=function(a){plugin.settings.keyNavigation&&$(document).keydown(function(b){if(this===b.target||!/textarea|select/i.test(b.target.nodeName)&&"text"!==b.target.type){for(var c={8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},d=48;90>=d;d++)c[d]=String.fromCharCode(d).toLowerCase();if($.inArray(b.which,c)){var e="";b.altKey&&(e+="alt+"),b.ctrlKey&&(e+="ctrl+"),b.metaKey&&(e+="meta+"),b.shiftKey&&(e+="shift+"),a.trigger(e+c[b.which]),b.preventDefault()}}})},plugin.init()},$.fn.jKit_effect=function(a,b,c,d,e,f){return this.each(function(){f==undefined&&(f=function(){}),e==undefined&&(e=0),"fade"==b?a?$(this).delay(e).fadeTo(c,1,d,f):$(this).delay(e).fadeTo(c,0,d,f):"slide"==b?a?$(this).delay(e).slideDown(c,d,f):$(this).delay(e).slideUp(c,d,f):"none"==b?(a?$(this).delay(e).show():$(this).delay(e).hide(),f()):a?$(this).delay(e).show(c,d,f):$(this).delay(e).hide(c,d,f)})},$.fn.jKit_getUnixtime=function(){var a=new Date,b=a.getTime();return parseInt(b/1e3)},$.fn.jKit_arrayShuffle=function(a){for(var b,c,d=0;a.length>d;d++)c=Math.floor(Math.random()*a.length),b=a[d],a[d]=a[c],a[c]=b;return a},$.fn.jKit_stringOccurrences=function(a,b){for(var c=0,d=0;;){if(d=a.indexOf(b,d),-1==d)break;c++,d+=b.length}return c},$.fn.jKit_emailCheck=function(a){var b=/^[a-z0-9\._-]+@([a-z0-9_-]+\.)+[a-z]{2,6}$/i;return b.test(a)},$.fn.jKit_urlCheck=function(a){var b=/^(?:(ftp|http|https):\/\/)?(?:[\w\-]+\.)+[a-z]{2,6}$/i;return b.test(a)},$.fn.jKit_dateCheck=function(a){var b=/^[0-9]{2}\.[0-9]{2}\.[0-9]{2}$/i;return b.test(a)},$.fn.jKit_timeCheck=function(a){var b=/^[0-9]{1,2}\:[0-9]{2}$/i;return b.test(a)},$.fn.jKit_phoneCheck=function(a){var b=/^(\+|0)[\d ]+(-\d*)?\d$/;return b.test(a)},$.fn.jKit_passwordStrength=function(a){var b=0;return 5>a.length?b+=5:a.length>4&&8>a.length?b+=15:a.length>=8&&(b+=30),a.match(/[a-z]/)&&(b+=5),a.match(/[A-Z]/)&&(b+=10),a.match(/\d+/)&&(b+=10),a.match(/(.*[0-9].*[0-9].*[0-9])/)&&(b+=10),a.match(/.[!,@,#,$,%,^,&,*,?,_,~]/)&&(b+=10),a.match(/(.*[!,@,#,$,%,^,&,*,?,_,~].*[!,@,#,$,%,^,&,*,?,_,~])/)&&(b+=10),a.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(b+=5),a.match(/([a-zA-Z])/)&&a.match(/([0-9])/)&&(b+=5),a.match(/([a-zA-Z0-9].*[!,@,#,$,%,^,&,*,?,_,~])|([!,@,#,$,%,^,&,*,?,_,~].*[a-zA-Z0-9])/)&&(b+=5),b},$.fn.jKit_getAttributes=function(){return this.each(function(){for(var a={},b=$(this)[0].attributes,c=b.length,d=0;c>d;d++)a[b[d].name.toLowerCase()]=b[d].value;return a})},$.fn.jKit_setAttributes=function(a){return this.each(function(){$.each(a,function(a,b){try{$(this).attr(a+"",b+"")}catch(c){}})})},$.fn.jKit_iOS=function(){return navigator.userAgent.match(/(iPod|iPhone|iPad)/i)},$.fn.jKit_belowTheFold=function(){var a=$(window).height()+$(window).scrollTop();return $(this).offset().top>=a},$.fn.jKit_aboveTheTop=function(){var a=$(window).scrollTop();return a>=$(this).offset().top+$(this).height()},$.fn.jKit_rightOfScreen=function(){var a=$(window).width()+$(window).scrollLeft();return $(this).offset().left>=a},$.fn.jKit_leftOfScreen=function(){var a=$(window).scrollLeft();return a>=$(this).offset().left+$(this).width()},$.fn.jKit_inViewport=function(){return!($(this).jKit_belowTheFold()||$(this).jKit_aboveTheTop()||$(this).jKit_rightOfScreen()||$(this).jKit_leftOfScreen())},$.fn.jKit=function(a,b){return this.each(function(){var c=new $.jKit(this,a,b);$(this).data("jKit",c)})}})(jQuery);